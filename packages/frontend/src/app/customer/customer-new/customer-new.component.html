<div class="customer-form">
  <form [formGroup]="customerForm">
    <mat-form-field>
      <mat-label>First Name</mat-label>
      <input matInput [errorStateMatcher]="errorMatcher"  placeholder="John" formControlName="firstName">
      <mat-error *ngIf="customerForm.get('firstName').errors && customerForm.get('firstName').errors.required">
        Field is <strong>required</strong>
      </mat-error>
    </mat-form-field>

    <mat-form-field>
      <mat-label>Last Name</mat-label>
      <input matInput [errorStateMatcher]="errorMatcher"  placeholder="Doe" formControlName="lastName">
      <mat-error *ngIf="customerForm.get('lastName').errors && customerForm.get('lastName').errors.required">
        Field is <strong>required</strong>
      </mat-error>
    </mat-form-field>

    <mat-form-field>
      <mat-label>Email</mat-label>
      <input matInput [errorStateMatcher]="errorMatcher" placeholder="john.doe@example.com" formControlName="email">
      <mat-error *ngIf="customerForm.get('email').errors && customerForm.get('email').errors.required">
        Email is <strong>required</strong>
      </mat-error>
      <mat-error *ngIf="customerForm.get('email').errors && customerForm.get('email').errors.email">
        Email is <strong>not valid</strong>
      </mat-error>
      <mat-error *ngIf="customerForm.get('email').errors && customerForm.get('email').errors.emailIsTaken">
        Email is <strong>taken</strong>
      </mat-error>
    </mat-form-field>

    <div class="customer-form__actions">
      <button *ngIf="isDialog()" mat-raised-button (click)="closeDialog()" color="warn">Cancel</button>
      <button (click)="onSubmit()" mat-raised-button color="primary" [disabled]="!customerForm.valid">
        <span *ngIf="isEditMode(); else createButtonText">Save</span>
        <ng-template #createButtonText><span>New</span></ng-template>
      </button>
    </div>

    <button *ngIf="isDialog()" (click)="closeDialog()" mat-button class="customer-form__close">
      <mat-icon>clear</mat-icon>
    </button>
  </form>
</div>